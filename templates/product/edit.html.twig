{% extends 'base.html.twig' %}

{% block title %}Edit Product{% endblock %}

{% block content %}
<section class="container py-5" style="display:flex;justify-content:center;">
  <div class="modal-card" style="width: 420px;">
    <button class="close" onclick="window.history.back();">&times;</button>
    <h3>Edit Product</h3>

    <form method="POST" enctype="multipart/form-data" action="{{ path('product_edit', {'id': product.id}) }}">
      <label>Name:</label>
      <input type="text" name="name" value="{{ product.name }}" required>

      <label>Description:</label>
      <textarea name="description" rows="4">{{ product.description }}</textarea>

      <label>Price:</label>
      <input type="number" name="price" step="0.01" value="{{ product.price }}" required>

      <label>Image:</label>
      <input type="file" name="image" accept="image/*">
      {% if product.image %}
        <p>Current image:</p>
        <img src="{{ asset(product.image) }}" alt="{{ product.name }}" style="width:100px;height:100px;object-fit:cover;border-radius:6px;">
      {% endif %}

      <button type="submit" class="btn">Update</button>
    </form>
  </div>
</section>
{% endblock %}
